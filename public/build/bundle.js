var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function f(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let b;function v(t){b=t}const $=[],y=[],x=[],k=[],T=Promise.resolve();let _=!1;function S(t){x.push(t)}const w=new Set;let C=0;function E(){const t=b;do{for(;C<$.length;){const t=$[C];C++,v(t),A(t.$$)}for(v(null),$.length=0,C=0;y.length;)y.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];w.has(e)||(w.add(e),e())}x.length=0}while($.length);for(;k.length;)k.pop()();_=!1,w.clear(),v(t)}function A(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const q=new Set;function N(t,e){t&&t.i&&(q.delete(t),t.i(e))}function I(t,n,u,o){const{fragment:i,on_mount:c,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,u),o||S((()=>{const n=c.map(e).filter(r);s?s.push(...n):l(n),t.$$.on_mount=[]})),a.forEach(S)}function O(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&($.push(t),_||(_=!0,T.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(e,r,u,o,i,s,a,d=[-1]){const m=b;v(e);const f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(m?m.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||m.$$.root};a&&a(f.root);let p=!1;if(f.ctx=u?u(e,r.props||{},((t,n,...l)=>{const r=l.length?l[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&B(e,t)),n})):[],f.update(),p=!0,l(f.before_update),f.fragment=!!o&&o(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(c)}else f.fragment&&f.fragment.c();r.intro&&N(e.$$.fragment),I(e,r.target,r.anchor,r.customElement),E()}v(m)}class G{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function D(t,e,n){const l=t.slice();return l[16]=e[n],l[18]=n,l}function L(t,e,n){const l=t.slice();return l[16]=e[n],l[18]=n,l}function M(t,e,n){const l=t.slice();return l[16]=e[n],l[18]=n,l}function P(t){let e,n,l;function r(t,e){return t[5]?F:t[4]<0?U:t[4]>0?R:z}let u=r(t),s=u(t),d=t[3]&&H(t);return{c(){e=a("div"),s.c(),n=m(),d&&d.c(),p(e,"class",l="banner"+(t[5]?" times-up":"")+" svelte-mk9n84")},m(t,l){i(t,e,l),s.m(e,null),o(e,n),d&&d.m(e,null)},p(t,o){u===(u=r(t))&&s?s.p(t,o):(s.d(1),s=u(t),s&&(s.c(),s.m(e,n))),t[3]?d?d.p(t,o):(d=H(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),32&o&&l!==(l="banner"+(t[5]?" times-up":"")+" svelte-mk9n84")&&p(e,"class",l)},d(t){t&&c(e),s.d(),d&&d.d()}}}function z(e){let n,l;return{c(){n=a("b"),n.textContent="No change",l=d(" (adds and subtracts cancelled out)")},m(t,e){i(t,n,e),i(t,l,e)},p:t,d(t){t&&c(n),t&&c(l)}}}function R(t){let e,n,l,r,u;return{c(){e=d("Added "),n=a("b"),l=d(t[4]),r=d(" minutes"),u=d(" to the time remaining")},m(t,c){i(t,e,c),i(t,n,c),o(n,l),o(n,r),i(t,u,c)},p(t,e){16&e&&h(l,t[4])},d(t){t&&c(e),t&&c(n),t&&c(u)}}}function U(t){let e,n,l,r,u,s=0-t[4]+"";return{c(){e=d("Subtracted "),n=a("b"),l=d(s),r=d(" minutes"),u=d(" from the time remaining")},m(t,c){i(t,e,c),i(t,n,c),o(n,l),o(n,r),i(t,u,c)},p(t,e){16&e&&s!==(s=0-t[4]+"")&&h(l,s)},d(t){t&&c(e),t&&c(n),t&&c(u)}}}function F(e){let n;return{c(){n=d("Times up!")},m(t,e){i(t,n,e)},p:t,d(t){t&&c(n)}}}function H(t){let e,n,l,r,u;return{c(){e=d("Updated time left is "),n=a("input"),l=d("."),p(n,"type","text"),n.readOnly=!0,p(n,"class","svelte-mk9n84")},m(o,c){i(o,e,c),i(o,n,c),g(n,t[3]),i(o,l,c),r||(u=f(n,"input",t[11]),r=!0)},p(t,e){8&e&&n.value!==t[3]&&g(n,t[3])},d(t){t&&c(e),t&&c(n),t&&c(l),r=!1,u()}}}function J(e){let n;return{c(){n=a("input"),p(n,"type","number"),p(n,"class","svelte-mk9n84")},m(t,e){i(t,n,e)},p:t,d(t){t&&c(n)}}}function K(e){let n;return{c(){n=a("input"),p(n,"type","number"),n.readOnly=!0,n.value=e[16].minutes,p(n,"size","3"),p(n,"class","svelte-mk9n84")},m(t,e){i(t,n,e)},p:t,d(t){t&&c(n)}}}function Q(e){let n,r,u,s,h,g,b,v,$,y,x,k,T,_=e[16].label+"",S=e[16].helpText&&function(e){let n,l,r=e[16].helpText+"";return{c(){n=a("div"),l=d(r),p(n,"class","help-text svelte-mk9n84")},m(t,e){i(t,n,e),o(n,l)},p:t,d(t){t&&c(n)}}}(e);let w=function(t,e){return t[16].minutes?K:J}(e),C=w(e);return{c(){n=a("li"),r=a("div"),u=d(_),s=m(),S&&S.c(),h=m(),C.c(),g=m(),b=a("button"),b.textContent="Add",v=m(),$=a("button"),$.textContent="Subtract",y=m(),p(r,"class","label svelte-mk9n84"),p(b,"data-type","add"),p(b,"type","button"),p(b,"class","svelte-mk9n84"),p($,"data-type","subtract"),p($,"type","button"),p($,"class","svelte-mk9n84"),p(n,"class","action svelte-mk9n84"),p(n,"data-index",x=e[18])},m(t,l){i(t,n,l),o(n,r),o(r,u),o(r,s),S&&S.m(r,null),o(n,h),C.m(n,null),o(n,g),o(n,b),o(n,v),o(n,$),o(n,y),k||(T=[f(b,"click",e[8]),f($,"click",e[8])],k=!0)},p(t,e){t[16].helpText&&S.p(t,e),C.p(t,e)},d(t){t&&c(n),S&&S.d(),C.d(),k=!1,l(T)}}}function V(t){let e,n,l,r=t[1],u=[];for(let e=0;e<r.length;e+=1)u[e]=W(L(t,r,e));return{c(){e=a("h2"),e.textContent="Adding",n=m(),l=a("ul");for(let t=0;t<u.length;t+=1)u[t].c();p(l,"class","adds svelte-mk9n84")},m(t,r){i(t,e,r),i(t,n,r),i(t,l,r);for(let t=0;t<u.length;t+=1)u[t].m(l,null)},p(t,e){if(18&e){let n;for(r=t[1],n=0;n<r.length;n+=1){const o=L(t,r,n);u[n]?u[n].p(o,e):(u[n]=W(o),u[n].c(),u[n].m(l,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=r.length}},d(t){t&&c(e),t&&c(n),t&&c(l),s(u,t)}}}function W(t){let e,n,l,r,u,s,g,b,v,$,y=t[16].label+"",x=t[16].minutes+"";function k(){return t[13](t[18])}return{c(){e=a("li"),n=a("a"),n.textContent="✗",l=m(),r=d(y),u=d(" ("),s=d(x),g=d(" mins)\r\n                            "),p(n,"class","remove-pending svelte-mk9n84"),p(n,"href","#"),p(e,"class","action-pending"),p(e,"data-index",b=t[18])},m(t,c){i(t,e,c),o(e,n),o(e,l),o(e,r),o(e,u),o(e,s),o(e,g),v||($=f(n,"click",k),v=!0)},p(e,n){t=e,2&n&&y!==(y=t[16].label+"")&&h(r,y),2&n&&x!==(x=t[16].minutes+"")&&h(s,x)},d(t){t&&c(e),v=!1,$()}}}function X(t){let e,n,l,r=t[2],u=[];for(let e=0;e<r.length;e+=1)u[e]=Y(D(t,r,e));return{c(){e=a("h2"),e.textContent="Subtracting",n=m(),l=a("ul");for(let t=0;t<u.length;t+=1)u[t].c();p(l,"class","subtracts svelte-mk9n84")},m(t,r){i(t,e,r),i(t,n,r),i(t,l,r);for(let t=0;t<u.length;t+=1)u[t].m(l,null)},p(t,e){if(20&e){let n;for(r=t[2],n=0;n<r.length;n+=1){const o=D(t,r,n);u[n]?u[n].p(o,e):(u[n]=Y(o),u[n].c(),u[n].m(l,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=r.length}},d(t){t&&c(e),t&&c(n),t&&c(l),s(u,t)}}}function Y(t){let e,n,l,r,u,s,g,b,v,$,y=t[16].label+"",x=t[16].minutes+"";function k(){return t[14](t[18])}return{c(){e=a("li"),n=a("a"),n.textContent="✗",l=m(),r=d(y),u=d(" ("),s=d(x),g=d(" mins)\r\n                            "),p(n,"class","remove-pending svelte-mk9n84"),p(n,"href","#"),p(e,"class","action-pending"),p(e,"data-index",b=t[18])},m(t,c){i(t,e,c),o(e,n),o(e,l),o(e,r),o(e,u),o(e,s),o(e,g),v||($=f(n,"click",k),v=!0)},p(e,n){t=e,4&n&&y!==(y=t[16].label+"")&&h(r,y),4&n&&x!==(x=t[16].minutes+"")&&h(s,x)},d(t){t&&c(e),v=!1,$()}}}function Z(e){let n,r,u,h,b,v,$,y,x,k,T,_,S,w,C,E,A,q,N,I,O,B,j,G,D,L=null!==e[4]&&P(e),z=e[7],R=[];for(let t=0;t<z.length;t+=1)R[t]=Q(M(e,z,t));let U=e[1].length&&V(e),F=e[2].length&&X(e);return{c(){L&&L.c(),n=m(),r=a("div"),u=a("form"),h=a("label"),b=a("span"),b.textContent="Time remaining:",v=m(),$=a("input"),y=m(),x=a("ul");for(let t=0;t<R.length;t+=1)R[t].c();k=m(),T=a("div"),_=a("button"),S=d("Reset"),C=m(),E=a("button"),A=d("Submit"),N=m(),I=a("div"),O=a("div"),U&&U.c(),B=m(),j=a("div"),F&&F.c(),p(b,"class","svelte-mk9n84"),p($,"type","text"),p($,"placeholder","e.g. 01:58:23"),p($,"class","svelte-mk9n84"),p(h,"class","time-remaining svelte-mk9n84"),p(x,"class","actions svelte-mk9n84"),p(_,"class","reset svelte-mk9n84"),p(_,"type","button"),_.disabled=w=!e[6],p(E,"class","submit svelte-mk9n84"),p(E,"type","submit"),E.disabled=q=!e[6],p(T,"class","form-controls svelte-mk9n84"),p(I,"class","pending svelte-mk9n84"),p(u,"id","form"),p(r,"class","calculator")},m(t,l){L&&L.m(t,l),i(t,n,l),i(t,r,l),o(r,u),o(u,h),o(h,b),o(h,v),o(h,$),g($,e[0]),o(u,y),o(u,x);for(let t=0;t<R.length;t+=1)R[t].m(x,null);var c;o(u,k),o(u,T),o(T,_),o(_,S),o(T,C),o(T,E),o(E,A),o(u,N),o(u,I),o(I,O),U&&U.m(O,null),o(I,B),o(I,j),F&&F.m(j,null),G||(D=[f($,"input",e[12]),f(_,"click",e[9]),f(u,"submit",(c=e[10],function(t){return t.preventDefault(),c.call(this,t)}))],G=!0)},p(t,[e]){if(null!==t[4]?L?L.p(t,e):(L=P(t),L.c(),L.m(n.parentNode,n)):L&&(L.d(1),L=null),1&e&&$.value!==t[0]&&g($,t[0]),384&e){let n;for(z=t[7],n=0;n<z.length;n+=1){const l=M(t,z,n);R[n]?R[n].p(l,e):(R[n]=Q(l),R[n].c(),R[n].m(x,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=z.length}64&e&&w!==(w=!t[6])&&(_.disabled=w),64&e&&q!==(q=!t[6])&&(E.disabled=q),t[1].length?U?U.p(t,e):(U=V(t),U.c(),U.m(O,null)):U&&(U.d(1),U=null),t[2].length?F?F.p(t,e):(F=X(t),F.c(),F.m(j,null)):F&&(F.d(1),F=null)},i:t,o:t,d(t){L&&L.d(t),t&&c(n),t&&c(r),s(R,t),U&&U.d(),F&&F.d(),G=!1,l(D)}}}function tt(t,e,n){let l,r;const u=[{label:"Sub at Tier 1",minutes:3},{label:"Sub at Tier 2",minutes:6},{label:"Sub at Tier 3",minutes:15},{label:"Gift Sub at Tier 1",minutes:3},{label:"Gift Sub at Tier 2",minutes:6},{label:"Gift Sub at Tier 3",minutes:15},{label:"Donate Bits",helpText:"1 minute per 100, rounded up"},{label:"Tip Money",helpText:"1 minute per $1, rounded up"},{label:"Patreon Subscription"},{label:"Streamloots card pack purchase"}];let o,i,c=null,s=[],a=[];const d=t=>`${t<10?"0":""}${t}`;return t.$$.update=()=>{6&t.$$.dirty&&n(6,l=s.length||a.length),1&t.$$.dirty&&n(5,r="00:00:00"===o)},[o,s,a,i,c,r,l,u,function(t){const e={...u[t.target.parentNode.dataset.index]},l=t.target.dataset.type,r=t.target.parentNode.querySelector("input"),o=parseInt(r.value,10),i=parseInt(e.minutes,10);e.minutes=o,e.label&&e.minutes&&("add"===l?n(1,s=[...s,e]):"subtract"===l&&n(2,a=[...a,e])),o!==i&&(r.value=""),n(4,c=null)},function(){n(1,s=[]),n(2,a=[]),n(0,o=null),n(4,c=null),n(3,i=null),Array.from(document.getElementById("form").querySelectorAll("li.action")).forEach((t=>{const e=u[t.dataset.index];t.querySelector("input").value=e.minutes||null}))},function(){const t=s.reduce(((t,e)=>t+e.minutes),0),e=a.reduce(((t,e)=>t+e.minutes),0);if(n(4,c=t-e),o){let[t,e,l]=o.split(":").map((t=>parseInt(t,10)));const r=60*t+e+c;if(r<=0)return void n(0,o="00:00:00");t=parseInt(r/60),e=r%60,n(0,o=`${d(t)}:${d(e)}:00`),navigator.permissions.query({name:"clipboard-write"}).then((t=>{"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.writeText(o).then((()=>console.log("Time copied to clipboard")),(()=>console.log("Error writing to clipboard")))}))}},function(){i=this.value,n(3,i)},function(){o=this.value,n(0,o)},t=>{n(1,s=s.filter(((e,n)=>n!==t))),n(4,c=null)},t=>{n(2,a=a.filter(((e,n)=>n!==t))),n(4,c=null)}]}class et extends G{constructor(t){super(),j(this,t,tt,Z,u,{})}}function nt(e){let n,l,r,u,s;return u=new et({}),{c(){var t;n=a("main"),l=a("h1"),l.textContent="Baldathon Timer",r=m(),(t=u.$$.fragment)&&t.c(),p(l,"class","svelte-1wiuquh"),p(n,"class","svelte-1wiuquh")},m(t,e){i(t,n,e),o(n,l),o(n,r),I(u,n,null),s=!0},p:t,i(t){s||(N(u.$$.fragment,t),s=!0)},o(t){!function(t,e,n,l){if(t&&t.o){if(q.has(t))return;q.add(t),(void 0).c.push((()=>{q.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}(u.$$.fragment,t),s=!1},d(t){t&&c(n),O(u)}}}return new class extends G{constructor(t){super(),j(this,t,null,nt,u,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map

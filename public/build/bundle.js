var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function s(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let b;function $(t){b=t}const y=[],x=[],v=[],_=[],T=Promise.resolve();let S=!1;function k(t){v.push(t)}const E=new Set;let w=0;function A(){const t=b;do{for(;w<y.length;){const t=y[w];w++,$(t),q(t.$$)}for($(null),y.length=0,w=0;x.length;)x.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];E.has(e)||(E.add(e),e())}v.length=0}while(y.length);for(;_.length;)_.pop()();S=!1,E.clear(),$(t)}function q(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const I=new Set;function N(t,e){t&&t.i&&(I.delete(t),t.i(e))}function O(t,n,o,u){const{fragment:i,on_mount:c,on_destroy:a,after_update:s}=t.$$;i&&i.m(n,o),u||k((()=>{const n=c.map(e).filter(r);a?a.push(...n):l(n),t.$$.on_mount=[]})),s.forEach(k)}function j(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(y.push(t),S||(S=!0,T.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(e,r,o,u,i,a,s,d=[-1]){const f=b;$(e);const p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||f.$$.root};s&&s(p.root);let m=!1;if(p.ctx=o?o(e,r.props||{},((t,n,...l)=>{const r=l.length?l[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&B(e,t)),n})):[],p.update(),m=!0,l(p.before_update),p.fragment=!!u&&u(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();r.intro&&N(e.$$.fragment),O(e,r.target,r.anchor,r.customElement),A()}$(f)}class G{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function D(t,e,n){const l=t.slice();return l[12]=e[n],l[14]=n,l}function L(t,e,n){const l=t.slice();return l[12]=e[n],l[14]=n,l}function M(e){let n;return{c(){n=s("input"),m(n,"type","number")},m(t,e){i(t,n,e)},p:t,d(t){t&&c(n)}}}function P(e){let n;return{c(){n=s("input"),m(n,"type","number"),n.readOnly=!0,n.value=e[12].minutes},m(t,e){i(t,n,e)},p:t,d(t){t&&c(n)}}}function U(e){let n,l,r,o,a,h,g,b,$,y=e[12].label+"";let x=function(t,e){return t[12].minutes?P:M}(e),v=x(e),_=e[12].helpText&&function(e){let n,l,r=e[12].helpText+"";return{c(){n=s("span"),l=d(r),m(n,"class","help-text")},m(t,e){i(t,n,e),u(n,l)},p:t,d(t){t&&c(n)}}}(e);return{c(){n=s("li"),l=s("button"),r=d(y),o=f(),v.c(),a=f(),_&&_.c(),h=f(),m(l,"type","button"),m(n,"class","action"),m(n,"data-index",g=e[14])},m(t,c){i(t,n,c),u(n,l),u(l,r),u(n,o),v.m(n,null),u(n,a),_&&_.m(n,null),u(n,h),b||($=p(l,"click",e[5]),b=!0)},p(t,e){v.p(t,e),t[12].helpText&&_.p(t,e)},d(t){t&&c(n),v.d(),_&&_.d(),b=!1,$()}}}function R(t){let e,n,l,r,o,a,g,b,$,y,x=t[12].label+"",v=t[12].minutes+"";function _(){return t[9](t[14])}return{c(){e=s("li"),n=d(x),l=d(" ("),r=d(v),o=d(" mins)\r\n                    "),a=s("button"),a.textContent="üóëÔ∏è",g=f(),m(a,"type","button"),m(e,"class","action-pending"),m(e,"data-index",b=t[14])},m(t,c){i(t,e,c),u(e,n),u(e,l),u(e,r),u(e,o),u(e,a),u(e,g),$||(y=p(a,"click",_),$=!0)},p(e,l){t=e,8&l&&x!==(x=t[12].label+"")&&h(n,x),8&l&&v!==(v=t[12].minutes+"")&&h(r,v)},d(t){t&&c(e),$=!1,y()}}}function z(t){let e,n,l,r,o,a,f=t[1]&&F(t);return{c(){e=s("div"),n=d("Adding "),l=s("b"),r=d(t[2]),o=d(" minutes"),a=d(" to the clock.\r\n                "),f&&f.c()},m(t,c){i(t,e,c),u(e,n),u(e,l),u(l,r),u(l,o),u(e,a),f&&f.m(e,null)},p(t,n){4&n&&h(r,t[2]),t[1]?f?f.p(t,n):(f=F(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(t){t&&c(e),f&&f.d()}}}function F(t){let e,n,l,r,o;return{c(){e=d("Updated time left is "),n=s("input"),l=d("."),m(n,"type","text"),n.readOnly=!0},m(u,c){i(u,e,c),i(u,n,c),g(n,t[1]),i(u,l,c),r||(o=p(n,"input",t[10]),r=!0)},p(t,e){2&e&&n.value!==t[1]&&g(n,t[1])},d(t){t&&c(e),t&&c(n),t&&c(l),r=!1,o()}}}function H(e){let n,r,o,h,b,$,y,x,v,_,T,S,k,E,w,A,q,I,N,O,j=e[4],B=[];for(let t=0;t<j.length;t+=1)B[t]=U(L(e,j,t));let C=e[3],G=[];for(let t=0;t<C.length;t+=1)G[t]=R(D(e,C,t));let M=e[2]&&z(e);return{c(){n=s("main"),r=s("form"),o=s("label"),h=d("Time remaining:\r\n            "),b=s("input"),$=f(),y=s("ul");for(let t=0;t<B.length;t+=1)B[t].c();x=f(),v=s("ul");for(let t=0;t<G.length;t+=1)G[t].c();_=f(),T=s("button"),S=d("Reset"),E=f(),w=s("button"),A=d("Submit"),I=f(),M&&M.c(),m(b,"type","text"),m(b,"placeholder","e.g. 01:58:23"),m(y,"class","actions"),m(v,"id","pending"),m(T,"type","button"),T.disabled=k=0===e[3].length,m(w,"type","submit"),w.disabled=q=0===e[3].length,m(r,"id","form")},m(t,l){i(t,n,l),u(n,r),u(r,o),u(o,h),u(o,b),g(b,e[0]),u(r,$),u(r,y);for(let t=0;t<B.length;t+=1)B[t].m(y,null);u(r,x),u(r,v);for(let t=0;t<G.length;t+=1)G[t].m(v,null);var c;u(r,_),u(r,T),u(T,S),u(r,E),u(r,w),u(w,A),u(r,I),M&&M.m(r,null),N||(O=[p(b,"input",e[8]),p(T,"click",e[6]),p(r,"submit",(c=e[7],function(t){return t.preventDefault(),c.call(this,t)}))],N=!0)},p(t,[e]){if(1&e&&b.value!==t[0]&&g(b,t[0]),48&e){let n;for(j=t[4],n=0;n<j.length;n+=1){const l=L(t,j,n);B[n]?B[n].p(l,e):(B[n]=U(l),B[n].c(),B[n].m(y,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=j.length}if(12&e){let n;for(C=t[3],n=0;n<C.length;n+=1){const l=D(t,C,n);G[n]?G[n].p(l,e):(G[n]=R(l),G[n].c(),G[n].m(v,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=C.length}8&e&&k!==(k=0===t[3].length)&&(T.disabled=k),8&e&&q!==(q=0===t[3].length)&&(w.disabled=q),t[2]?M?M.p(t,e):(M=z(t),M.c(),M.m(r,null)):M&&(M.d(1),M=null)},i:t,o:t,d(t){t&&c(n),a(B,t),a(G,t),M&&M.d(),N=!1,l(O)}}}function J(t,e,n){const l=[{label:"Sub at Tier 1",minutes:3},{label:"Sub at Tier 2",minutes:6},{label:"Sub at Tier 3",minutes:15},{label:"Gift Sub at Tier 1",minutes:3},{label:"Gift Sub at Tier 2",minutes:6},{label:"Gift Sub at Tier 3",minutes:15},{label:"Donate Bits",helpText:"1 minute per 100, rounded up"},{label:"Tip Money",helpText:"1 minute per $1, rounded up"},{label:"Patreon Subscription"},{label:"Streamloots card pack purchase"}];let r,o,u=0,i=[];const c=t=>`${t<10?"0":""}${t}`;return[r,o,u,i,l,function(t){const e={...l[t.target.parentNode.dataset.index]},r=t.target.parentNode.querySelector("input"),o=parseInt(r.value,10),c=parseInt(e.minutes,10);e.minutes=o,e.label&&e.minutes&&n(3,i=[...i,e]),o!==c&&(r.value=""),n(2,u=null)},function(){n(3,i=[]),n(0,r=null),n(2,u=null),n(1,o=null),Array.from(document.getElementById("form").querySelectorAll("li.action")).forEach((t=>{const e=l[t.dataset.index];t.querySelector("input").value=e.minutes||null}))},function(){if(n(2,u=i.reduce(((t,e)=>t+e.minutes),0)),r){let[t,e,l]=r.split(":").map((t=>parseInt(t,10)));const o=60*t+e+u;t=parseInt(o/60),e=o%60,n(0,r=`${c(t)}:${c(e)}:${c(l)}`),navigator.permissions.query({name:"clipboard-write"}).then((t=>{"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.writeText(r).then((()=>alert("Updated time copied to clipboard")),(()=>console.log("Error writing to clipboard")))}))}},function(){r=this.value,n(0,r)},t=>{n(3,i=i.filter(((e,n)=>n!==t))),n(2,u=null)},function(){o=this.value,n(1,o)}]}class K extends G{constructor(t){super(),C(this,t,J,H,o,{})}}function Q(e){let n,l,r;return l=new K({}),{c(){var t;n=s("main"),(t=l.$$.fragment)&&t.c()},m(t,e){i(t,n,e),O(l,n,null),r=!0},p:t,i(t){r||(N(l.$$.fragment,t),r=!0)},o(t){!function(t,e,n,l){if(t&&t.o){if(I.has(t))return;I.add(t),(void 0).c.push((()=>{I.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}(l.$$.fragment,t),r=!1},d(t){t&&c(n),j(l)}}}return new class extends G{constructor(t){super(),C(this,t,null,Q,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
